{{> layout/header}}

<div class="container" style="margin-top: 5%; margin-bottom: 5%">
    <!--    enctype="multipart/form-data"-->
    <div class="row">
        <!-- ì´ë¯¸ì§€ -->
        <div class="col-lg-4 mb-4 mb-lg-0">
            <img src="http://localhost:8080/upload/{{product.imgFileName}}" width="300" height="300"
                 style="border-radius: 5%">
        </div>

        <!-- ìƒí’ˆ ì •ë³´ ì…ë ¥ -->
        <div class="col-lg-6 px-xl-10">

            <form action="/order-save-form" method="get">
                <input type="hidden" name="productId" value="{{product.id}}">

                <div class="mb-3 mt-3">
                    ìƒ í’ˆ ëª… : <input name="name" type="text" class="form-control" value="{{product.name}}" disabled>
                </div>
                <div class="mb-3 mt-3">
                    ìƒí’ˆê°€ê²© : <input name="price" type="text" class="form-control" value="{{product.price}}" disabled>
                </div>
                <div class="mb-3 mt-3">
                    <div>êµ¬ë§¤ìˆ˜ëŸ‰ : <span style="color: grey;">(ì¬ê³  : {{product.qty}})</span></div>
                    <input name="buyQty" type="number" class="form-control" value="1">
                </div>
                <!--ìƒí’ˆ ì •ë³´ ì…ë ¥ ë-->

                <!-- êµ¬ë§¤í•˜ê¸° ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼ -->
                <div class="d-flex justify-content-center">
                    <button type="submit" class="btn btn-primary mt-3">êµ¬ë§¤í•˜ê¸°</button>

            </form>

            <form action="/cart" method="post">
                <input type="hidden" name="productId" value="{{product.id}}">
                <!--  hiddenì´ë¼ì„œ ê°’ ë°˜ì˜ì´ ë™ì ìœ¼ë¡œ ì•ˆ ëœë‹¤ëŠ” ë“¯.. ìë°” ìŠ¤í¬ë¦½íŠ¸ë¡œ ì—°ê²°ì‹œì¼œì„œ ê°€ì ¸ì™€ì•¼í•¨ -->
                <input type="hidden" name="buyQty" class="form-control" value="1">
                <button type="submit" class="btn btn-success mt-3">ì¥ë°”êµ¬ë‹ˆ</button>
            </form>
        </div>

    </div>
    <!-- êµ¬ë§¤í•˜ê¸° ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼ ë -->

</div>
</div>

<br><br><br>
<hr>
<div style="color: blue; text-align: center; font-size: 24px;">
    ìƒí’ˆí›„ê¸°
</div>

<br>
<!-- ëŒ“ê¸€ -->
<div class="card mt-3">
    <!-- ëŒ“ê¸€ë“±ë¡ -->
    <div class="card-body">
        <form action="/reply/save" method="post">
                <textarea class="form-control" rows="2" name="comment"
                          placeholder="ìƒí’ˆ í›„ê¸°ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”. ë¹„ë°© ë° ìš•ì„¤ ëŒ“ê¸€ì€ ì‚­ì œë©ë‹ˆë‹¤."></textarea>
            <div class="d-flex justify-content-end">
                <button type="submit" class="btn btn-outline-primary mt-1">í›„ê¸°ë“±ë¡</button>
            </div>
        </form>
    </div>

    <!-- ëŒ“ê¸€ëª©ë¡ -->
    <div class="card-footer">
        <b>í›„ê¸°</b>
    </div>
    <div class="list-group">
        <!-- ëŒ“ê¸€ì•„ì´í…œ -->
        <div class="list-group-item d-flex justify-content-between align-items-center">
            <div class="d-flex">
                <div class="px-1 me-1 bg-primary text-white rounded">cos</div>
                <div>ì§€ëŠ” ë²•ì„ ëª¨ë¥´ëŠ”</div>
            </div>
            <form action="/reply/1/delete" method="post">
                <button class="btn">ğŸ—‘</button>
            </form>
        </div>
        <!-- ëŒ“ê¸€ì•„ì´í…œ -->
        <div class="list-group-item d-flex justify-content-between align-items-center">
            <div class="d-flex">
                <div class="px-1 me-1 bg-primary text-white rounded">ssar</div>
                <div>ìµœê°• ê¸°ì•„ íƒ€ì´ê±°ì¦ˆ!</div>
            </div>
            <form action="/reply/1/delete" method="post">
                <button class="btn">ğŸ—‘</button>
            </form>
        </div>
    </div>
</div>

</div>

<script src="/js/detail.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // êµ¬ë§¤ìˆ˜ëŸ‰ ì…ë ¥ í•„ë“œ ì„ íƒ
        const buyQtyInput = document.querySelector('input[name="buyQty"]');

        // ì¥ë°”êµ¬ë‹ˆ í¼ì˜ buyQty ì…ë ¥ í•„ë“œ ì„ íƒ
        const cartBuyQtyInput = document.querySelector('form[action="/cart"] input[name="buyQty"]');

        // êµ¬ë§¤ìˆ˜ëŸ‰ ì…ë ¥ í•„ë“œì˜ ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
        buyQtyInput.addEventListener('change', function () {
            // ì¥ë°”êµ¬ë‹ˆ í¼ì˜ buyQty ì…ë ¥ í•„ë“œì˜ ê°’ì„ í˜„ì¬ êµ¬ë§¤ìˆ˜ëŸ‰ ì…ë ¥ í•„ë“œì˜ ê°’ìœ¼ë¡œ ì„¤ì •
            cartBuyQtyInput.value = this.value;
        });
    });
</script>


{{> layout/footer}}
